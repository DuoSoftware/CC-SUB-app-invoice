<meta name="updatedBy" content="suvethan">
<meta name="modifiedDate" content="2017-04-24">
<meta name="version" content="6.1.0.1">
<meta name="app" content="invoice">
<meta name="view" content="invoice.html">

<div id="invoice" class="page-layout carded left-sidenav" layout="row" ng-switch="vm.appInnerState">
    <!-- TOP BACKGROUND -->
    <div class="top-bg md-accent-bg"></div>
    <!-- / TOP BACKGROUND -->

    <!-- SIDENAV -->
    <!--<md-sidenav class="sidenav" md-is-locked-open="$mdMedia('gt-md')" md-component-id="main-sidenav"-->
    <!--ng-include="'app/main/invoice/sidenavs/main/main-sidenav.html'" ms-scroll ms-sidenav-helper>-->
    <!--</md-sidenav>-->
    <!-- / SIDENAV -->

    <!-- CENTER -->
    <div ng-switch-when="default" class="center" layout="column" flex>
        <!-- CONTENT HEADER- V NAV-->
        <div layout="column" layout-align="start start">
            <div class="v-header" layout="column" flex fill-width>
                <div class="title" layout="column" layout-align="center start">
                    <div class="logo" layout="row" layout-align="start center">
                        <span class="logo-icon">
                          <img src="app/core/app_icons/invoice_app_icon.png" alt=""/>
                        </span>
                        <span class="logo-text">Invoice</span>
                    </div>
                </div>
                <div layout="row">
                    <div class="search-wrapper md-whiteframe-4dp animate-fade-in-out" layout="row" layout-align="start center" flex>
                        <md-button class="md-icon-button sidenav-toggle" ng-click="vm.toggleSidenav('main-sidenav')" hide-gt-md aria-label="Toggle Sidenav">
                            <md-icon class="icon" md-font-icon="icon-menu"></md-icon>
                        </md-button>

                        <div class="search" flex layout="row" layout-align="start center">
                            <md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>
                            <input flex ng-model="vm.search" type="text" ng-blur="loadInvoiceByKeyword(vm.search)"  placeholder="Search for invoices">
                        </div>
                    </div>

				  <div>
                    <md-button  class="md-raised md-accent main-app-create" layout="row" layout-align="center center" aria-label="compose" ng-disabled="vm.activePlanPaneIndex == 1" ng-click="toggleEdit()" ng-if="!inpageReadPaneEdit"><span class="fs-18 mr-10">+</span> NEW
                    </md-button>
                    </div>
                </div>
                <!--<md-button class="md-raised main-app-create" layout="row" layout-align="center center" aria-label="compose" ng-disabled="vm.activePlanPaneIndex == 1" ng-click="toggleEdit()" ng-if="!inpageReadPaneEdit"><span class="fs-18 mr-10 fc-accent">+</span> NEW-->
                <!--</md-button>-->
            </div>
            <!--<div class="v-nav">-->
            <!--<div ng-include="'app/main/plans/sidenavs/main/main-sidenav.html'"></div>-->
            <!--</div>-->

        </div>
        <!-- / CONTENT HEADER -->
        <!-- CONTENT HEADER -->
        <!--<div class="header" layout="row" layout-align="start center" ng-if="vm.activeInvoicePaneIndex === 0">-->

        <!--<div class="search-wrapper md-whiteframe-4dp" layout="row" layout-align="start center" flex>-->
        <!--<md-button class="md-icon-button sidenav-toggle" ng-click="vm.toggleSidenav('main-sidenav')" hide-gt-md-->
        <!--aria-label="Toggle Sidenav">-->
        <!--<md-icon class="icon" md-font-icon="icon-menu"></md-icon>-->
        <!--</md-button>-->

        <!--<div class="search" flex layout="row" layout-align="start center">-->
        <!--<md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>-->
        <!--<input flex ng-model="vm.search" type="text" ng-change="loadInvoiceByKeyword(vm.search)" placeholder="Search for invoice">-->
        <!--</div>-->
        <!--</div>-->

        <!--</div>-->
        <!-- / CONTENT HEADER -->

        <div layout="row" flex>
            <!-- CONTENT CARD -->
            <div class="content-card" layout="column" ng-class="{'flex-30':showInpageReadpane}" flex>
                <div class="toolbar list-header" layout="row" layout-align="space-between center" ng-if="vm.activeInvoicePaneIndex === 0">
                    <div ng-include="'app/main/invoice/views/list/list-header.html'" layout="row" flex layout-align="start center"></div>
                </div>


                <div class="toolbar" layout="row" layout-align="end center" ng-if="vm.activeInvoicePaneIndex === 1">
                  <md-button class="md-icon-button" style="margin-right: -10px"
                             ng-click="vm.closeReadPane()"
                             aria-label="Back">
                    <md-icon md-font-icon="icon-close"></md-icon>
                  </md-button>
                </div>
                <!-- INVOICE VIEW PANE TOOLBAR -->
                <!--<div class="toolbar" layout="row" layout-align="space-between center" ng-if="vm.activeInvoicePaneIndex === 1">-->
                <!--<md-button class="md-icon-button"-->
                <!--ng-click="vm.closeReadPane()"-->
                <!--aria-label="Back">-->
                <!--<md-icon md-font-icon="icon-keyboard-backspace"></md-icon>-->
                <!--</md-button>-->
                <!--<div class="actions">-->
                <!--<md-menu>-->
                <!--<md-button aria-label="More" class="md-icon-button" ng-click="$mdOpenMenu($event)">-->
                <!--<md-icon md-font-icon="icon-dots-vertical"></md-icon>-->
                <!--<md-tooltip>Invoice Action</md-tooltip>-->
                <!--</md-button>-->

                <!--<md-menu-content width="3">-->
                <!--<md-menu-item>-->
                <!--<md-button aria-label="Send Mail" ng-click="emailInvoice($event,'invoice-read')">-->
                <!--<md-icon md-font-icon="icon-email"></md-icon>-->
                <!--<span>Email</span>-->
                <!--</md-button>-->
                <!--</md-menu-item>-->

                <!--<md-menu-item>-->
                <!--<md-button aria-label="Save to PDF" ng-click="printDiv('invoice-read')">-->
                <!--<md-icon md-font-icon="icon-printer"></md-icon>-->
                <!--<span>Print</span>-->
                <!--</md-button>-->
                <!--</md-menu-item>-->

                <!--</md-menu-content>-->
                <!--</md-menu>-->
                <!--</div>-->
                <!--</div>-->

                <!-- / INVOICE VIEW PANE TOOLBAR -->

                <!-- CONTENT WRAPPER -->
                <div class="content-wrapper" layout="row" flex>

                    <md-tabs md-selected="vm.activeInvoicePaneIndex" class="content-tabs" md-dynamic-height="{{vm.dynamicHeight}}" flex>
                        <!-- INVOICE LIST PANE -->
                        <md-tab>
                            <md-tab-label>Invoice List Pane</md-tab-label>
                            <md-tab-body>
                                <div class="content main-list-pane"
                                     ng-include="'app/main/invoice/views/list/list-view.html'" ms-scroll>
                                </div>
                            </md-tab-body>
                        </md-tab>
                        <!-- / INVOICE LIST PANE -->

                        <!-- INVOICE DISPLAY PANE -->
                        <md-tab>
                            <md-tab-label>Invoice Display Pane</md-tab-label>
                            <md-tab-body>
                                <div class="content invoice-display-pane mb-50"
                                     ng-include="'app/main/invoice/views/read/read-view.html'" ms-scroll>
                                </div>
                              <div md-whiteframe="8dp" layout="row" layout-align="space-between center" class="bottom-fixed-bar fixed">
                                <div layout="row"></div>

                                <div layout="row" class="layout-row">
                                  <md-button ng-click="clearform()">Clear</md-button>
                                  <md-button ng-disabled="vm.submitted" type="submit" form="invoiceForm" class="md-raised md-accent">Save</md-button>
                                </div>
                              </div>
                            </md-tab-body>
                        </md-tab>
                        <!-- / INVOICE DISPLAY PANE -->
                    </md-tabs>

                </div>
                <!-- / CONTENT WRAPPER -->

            </div>
            <!-- / CONTENT CARD -->

            <!--INPAGE READ PANE-->
            <div flex class="inpage-readpane" layout="column" md-whiteframe="4dp" ng-if="showInpageReadpane">
                <div layout="row" layout-align="space-between center" class="inpage-readpane-toolbar">
                    <h3 class="group-sub-head" layout="row" layout-align="start center">Invoice info</h3>
                    <div layout="row">
                        <md-menu>
                            <md-button aria-label="More" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                                <md-icon md-font-icon="icon-menu"></md-icon>
                                <md-tooltip>Invoice action</md-tooltip>
                            </md-button>

                            <md-menu-content width="3">
                                <md-menu-item>
                                    <md-button aria-label="Send Mail" ng-click="emailInvoice($event,'print-content')">
                                        <md-icon md-font-icon="icon-email"></md-icon>
                                        <span>Email</span>
                                    </md-button>
                                </md-menu-item>

                                <md-menu-item>
                                    <md-button aria-label="Save to PDF" ng-click="printDiv('print-content')">
                                        <md-icon md-font-icon="icon-printer"></md-icon>
                                        <span>Print</span>
                                    </md-button>
                                </md-menu-item>

                            </md-menu-content>
                        </md-menu>
                        <md-button class="md-icon-button" ng-click="vm.closeInfoPane()">
                            <md-icon md-font-icon="icon-close"></md-icon>
                            <md-tooltip>Close</md-tooltip>
                        </md-button>
                    </div>
                </div>
                <div class="preloader animate-fade-in-out" ng-if="!isReadLoaded" style="top: 35px;">
                    <md-progress-circular></md-progress-circular>
                </div>
                <md-content flex ms-scroll layout="column" layout-align="start center" class="inpage-readpane-body" ng-if="!inpageReadPaneEdit">
                    <!--<div layout="row" layout-align="space-between center">-->
                    <!--<div layout="row" layout-align="start center">-->
                    <!--<div layout="column" layout-align="center start">-->
                    <!--<div class="fs-20 font-accent fw-400">{{vm.selectedPlan.code}}</div>-->
                    <!--<div layout="row" class="op-5">-->
                    <!--<span>by {{vm.selectedPlan.createdUser}}</span>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<div class="ml-20">-->
                    <!--<span class="pill" layout="row" layout-align="center center" ng-class="{'negative':vm.selectedPlan.status==='Inactive','positive':vm.selectedPlan.status==='Active'}">{{vm.selectedPlan.status}}</span>-->
                    <!--</div>-->
                    <!--</div>-->

                    <!--<md-button ng-click="getEmbededPlanForm(vm.selectedPlan)" class="embed-btn md-raised font-accent h-30 lh-32" layout="row" layout-align="center center">Embed <md-icon md-font-icon="icon-share" class="fs-20 font-accent w-20 h-20 m-0 lh-18"></md-icon><md-tooltip>Get embeddable form</md-tooltip></md-button>-->
                    <!--</div>-->
                    <!--<md-divider class="mt-10 mb-20"></md-divider>-->
                    <!-- INVOICE -->
                    <div class="email-template" style="box-shadow:none!important;float:none;width: 100%;max-width: 700px;min-height: 800px;position:relative">
                        <div class="state-flag-wrap">
                            <md-icon md-font-icon="icon-bookmark {{vm.selectedInvoice.invoiceStatus | lowercase}}"></md-icon>
                            <span class="state-flag-text {{vm.selectedInvoice.invoiceStatus | lowercase}}">{{vm.selectedInvoice.invoiceStatus}}</span>
                        </div>
                        <div id="print-content" style="border: solid 1px #ddd;min-height: 800px;position:relative;">
                            <div ng-if="currentTemplateView == 'emailTemplate1'">
                                <div class="template-header bg-blue-g" style="height: 100px;background: #05a3ec;background:linear-gradient(45deg, #05a3ec,#006696);color: #fff;padding: 10px;">
                                    <div class="left-content" style="width: 30%;float: left;">
                                        <div style="font-size: 30px;margin: 20px 0;">INVOICE</div>
                                    </div>
                                    <div class="right-content" style="width: 70%;float: right;">
                                        <div class="inner-left" style="width: 35%;float: left;">
                                        </div>
                                        <div class="inner-right" style="width: 65%;float: right">
                                            <div><h3 style="margin: 0;">{{vm.selectedInvoice.companyName}}</h3></div>
                                            <div>{{vm.selectedInvoice.companyAddress}}</div>
                                            <div>{{vm.selectedInvoice.companyPhone}}</div>
                                            <div>{{vm.selectedInvoice.companyEmail}}</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="sub-header" style="padding: 10px;padding-top: 30px;overflow: hidden;">
                                    <div class="left-content" style="width: 55%;float: left;">
                                        <div style="color: #aaa;margin-bottom: 5px">Billed to</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.person_name}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.bill_addr}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.phone}}</div>
                                        <div>{{vm.selectedInvoice.email_addr}}</div>
                                    </div>
                                    <div class="right-content" style="width: 45%;float: right;">
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="display:inline-block;width: 100px;color: #aaa;margin-bottom: 2px">Invoice no</div>
                                            <div style="display:inline-block;">{{selectedInvoice.invoiceNo}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="display:inline-block;width: 100px;color: #aaa;margin-bottom: 2px">Invoice type</div>
                                            <div style="display:inline-block;">{{vm.selectedInvoice.invoiceType}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="display:inline-block;width: 100px;color: #aaa;margin-bottom: 2px">Created date</div>
                                            <div style="display:inline-block;">{{selectedInvoice.invoiceDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                        <!--<div class="inner-left" style="margin-bottom: 10px">-->
                                            <!--<div style="display:inline-block;width: 100px;color: #aaa;margin-bottom: 2px">Due date</div>-->
                                            <!--<div style="display:inline-block;">{{vm.selectedInvoice.dueDate | parseDate | date: 'dd/MM/yyyy'}}</div>-->
                                        <!--</div>-->
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="display:inline-block;width: 100px;color: #aaa;margin-bottom: 2px">Billing period</div>
                                            <div style="display:inline-block;">{{vm.selectedInvoice.periodStartDate | parseDate | date: 'dd/MM/yyyy'}} - {{vm.selectedInvoice.periodEndDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                            <!--<div style="display:inline-block;">{{vm.selectedInvoice.period}}</div>-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="currentTemplateView == 'emailTemplate2'">
                                <div class="template-header bg-image" style="height: 110px;background: url('../../../../assets/images/backgrounds/email_template_1.jpg') -30px;background-repeat:no-repeat;background-size:cover;color: #fff;padding: 10px;">
                                    <div class="left-content" style="width: 55%;float: left;">
                                        <div style="font-size: 30px;margin: 20px 0;">INVOICE</div>
                                    </div>
                                    <div class="right-content" style="width: 45%;float: right;">
                                        <div class="inner-right" style="float: left;color: #000;">
                                            <div><h3 style="margin: 0;">{{vm.selectedInvoice.companyName}}</h3></div>
                                            <div>{{vm.selectedInvoice.companyAddress}}</div>
                                            <div>{{vm.selectedInvoice.companyPhone}}</div>
                                            <div>{{vm.selectedInvoice.companyEmail}}</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="sub-header" style="padding: 10px;padding-top: 30px;overflow: hidden;">
                                    <div class="left-content" style="width: 55%;float: left;">
                                        <div style="color: #aaa;margin-bottom: 5px">Billed to</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.person_name}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.bill_addr}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.phone}}</div>
                                        <div>{{vm.selectedInvoice.email_addr}}</div>
                                    </div>
                                    <div class="right-content" style="width: 45%;float: right;">
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="width: 100px;display: inline-block;color: #aaa;margin-bottom: 2px">Invoice no</div>
                                            <div style="display:inline-block;">{{selectedInvoice.invoiceNo}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="width: 100px;display: inline-block;color: #aaa;margin-bottom: 2px">Invoice type</div>
                                            <div style="display:inline-block;">{{selectedInvoice.invoiceType}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="width: 100px;display: inline-block;color: #aaa;margin-bottom: 2px">Created date</div>
                                            <div style="display:inline-block;">{{selectedInvoice.invoiceDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                        <!--<div class="inner-left" style="margin-bottom: 10px">-->
                                            <!--<div style="width: 100px;display: inline-block;color: #aaa;margin-bottom: 2px">Due date</div>-->
                                            <!--<div style="display:inline-block;">{{selectedInvoice.dueDate | parseDate | date: 'dd/MM/yyyy'}}</div>-->
                                        <!--</div>-->
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div style="width: 100px;display: inline-block;color: #aaa;margin-bottom: 2px">Billing period</div>
                                          <div style="display:inline-block;">{{vm.selectedInvoice.periodStartDate | parseDate | date: 'dd/MM/yyyy'}} - {{vm.selectedInvoice.periodEndDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="currentTemplateView == 'emailTemplate3'">
                                <div class="template-header" style="height: 150px;padding: 10px;text-align: center;position: relative;">
                                    <img src="{{vm.selectedInvoice.companyLogo}}" alt="" style="height: 100px;position: absolute;left: 0;right: 0;top: 0;bottom: 0;margin: auto;">
                                </div>
                                <div style="text-align: center">
                                    <div style="margin: 5px 0;color: #aaaaaa;">{{vm.selectedInvoice.companyName}}</div>
                                    <div style="margin-left: 25%;margin-right:25%;height: 1px;border-top: solid 1px #eee"></div>
                                    <div style="margin: 5px 0;color: #aaaaaa;">{{vm.selectedInvoice.companyPhone}}</div>
                                    <div style="margin: 5px 0;color: #aaaaaa;">{{vm.selectedInvoice.companyEmail}}</div>
                                </div>
                                <div style="overflow: hidden;background: #f7f7f7;color: #aaa;">
                                    <div style="margin: 5px 0;text-align: center">{{vm.selectedInvoice.companyAddress}}</div>
                                </div>
                                <div class="bg-blue" style="height: 40px;text-align: center;background: #05a3ec;color: #fff;margin-bottom: 10px">
                                    <div style="font-size: 20px;padding: 5px 0;">INVOICE</div>
                                </div>
                                <div class="sub-header" style="padding: 10px;overflow: hidden;">
                                    <div class="left-content" style="width: 67%;float: left;">
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.person_name}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.bill_addr}}</div>
                                        <div style="margin-bottom: 5px">{{vm.selectedInvoice.phone}}</div>
                                        <div>{{vm.selectedInvoice.email_addr}}</div>
                                    </div>
                                    <div class="right-content" style="width: 33%;float: right;">
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div><span style="color: #aaa;">Invoice no: </span>  {{selectedInvoice.invoiceNo}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div><span style="color: #aaa;">Invoice type: </span>  {{selectedInvoice.invoiceType}}</div>
                                        </div>
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div><span style="color: #aaa;">Created date: </span>  {{selectedInvoice.invoiceDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                        <!--<div class="inner-left" style="margin-bottom: 10px">-->
                                            <!--<div><span style="color: #aaa;">Due date: </span>  {{selectedInvoice.dueDate | parseDate | date: 'dd/MM/yyyy'}}</div>-->
                                        <!--</div>-->
                                        <div class="inner-left" style="margin-bottom: 10px">
                                            <div><span style="color: #aaa;">Billing period: </span>  {{vm.selectedInvoice.periodStartDate | parseDate | date: 'dd/MM/yyyy'}} - {{vm.selectedInvoice.periodEndDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="currentTemplateView == 'emailTemplate4'">
                                <div class="bg-blue" style="height: 40px;text-align: center;background-color: #05a3ec;color: #fff;margin-bottom: 30px">
                                    <div style="font-size: 20px;padding: 5px 0;">INVOICE</div>
                                </div>
                                <div class="sub-header" style="padding: 10px;overflow: hidden;">
                                    <div class="left-content" style="width: 50%;float: left;">
                                        <div style="margin-bottom: 20px">
                                            <div><span style="color: #aaa;">Invoice no: </span>  {{vm.selectedInvoice.invoiceNo}}</div>
                                            <div><span style="color: #aaa;">Invoice type: </span>  {{vm.selectedInvoice.invoiceType}}</div>
                                            <div><span style="color: #aaa;">Created date: </span>  {{selectedInvoice.invoiceDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                            <!--<div style="margin-bottom: 5px"><span style="color: #aaa;">Due date: </span>  {{selectedInvoice.dueDate | parseDate | date: 'dd/MM/yyyy'}}</div>-->
                                            <div style="margin-bottom: 5px"><span style="color: #aaa;">Billing period: </span>  {{vm.selectedInvoice.periodStartDate | parseDate | date: 'dd/MM/yyyy'}} - {{vm.selectedInvoice.periodEndDate | parseDate | date: 'dd/MM/yyyy'}}</div>
                                        </div>
                                        <div>{{vm.selectedInvoice.person_name}}</div>
                                        <div>{{vm.selectedInvoice.bill_addr}}</div>
                                        <div>{{vm.selectedInvoice.phone}}</div>
                                        <div>{{vm.selectedInvoice.email_addr}}</div>
                                    </div>
                                    <div class="right-content" style="width: 50%;float: right;">
                                        <div class="logo" style="position:relative;float: left;width:100px;height: 150px;border-right:solid 1px #eee;">
                                            <img src="{{vm.selectedInvoice.companyLogo}}" alt="" style="position:absolute;padding-right:10px;height: 90px;left: 0;right: 0;top: 0;bottom: 0;margin: auto;">
                                        </div>
                                        <div style="float: left;margin-left: 10px;max-width: 177px;">
                                            <div><h3>{{vm.selectedInvoice.companyName}}</h3></div>
                                            <div>{{vm.selectedInvoice.companyAddress}}</div>
                                            <div style="clear: both;color: #aaa;padding-top: 10px;margin-top: 10px;font-size: 12px;">
                                                <div style="margin-bottom: 5px">{{vm.selectedInvoice.companyPhone}}</div>
                                                <div>{{vm.selectedInvoice.companyEmail}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="list" style="margin: 10px;">
                                <div class="list-header" style="overflow: hidden;padding: 10px;background: #eee;">
                                    <div style="color: #aaa;width: 20%;float: left;">
                                        Item
                                    </div>
                                    <div style="color: #aaa;width: 20%;float: left;text-align: right">
                                        Unit price
                                    </div>
                                    <div style="width: 2%;float: left;height: 10px;"></div>
                                    <div style="color: #aaa;width: 18%;float: left">
                                        Quantity
                                    </div>
                                    <div style="color: #aaa;width: 20%;float: left" ng-if="vm.selectedInvoice.invoiceType.toLowerCase() != 'manual'">
                                        Promotion
                                    </div>
                                    <div style="color: #aaa;float: left;text-align: right" ng-style="vm.selectedInvoice.invoiceType.toLowerCase() == 'manual' ? {'width':'40%'} : {'width':'20%'}">
                                        Total
                                    </div>
                                </div>
                                <div class="list-item" style="border-bottom: solid 1px #eee;padding: 10px;overflow: hidden;" ng-repeat="detail in vm.selectedInvoice.invoiceDetails">
                                    <div style="float: left;color: #aaa;width: 20%">{{detail.code}}<span ng-if="detail.code == '' || detail.code == null">-</span> </div>
                                    <div style="float: left;color: #aaa;width: 20%;text-align: right">
                                        {{detail.unitPrice  | isoCurrency: invoice.currency:decimalPoint}}
                                        <!--{{detail.unitPrice | isoCurrency:vm.selectedInvoice.currency:decimalPoint}}-->
                                    </div>
                                    <div style="width: 2%;float: left;height: 10px;"></div>
                                    <div style="float: left;color: #aaa;width: 18%">
                                        {{detail.gty}}
                                    </div>
                                    <div style="float: left;color: #aaa;width: 20%" ng-if="vm.selectedInvoice.invoiceType.toLowerCase() != 'manual'">
                                        {{detail.discount  | isoCurrency: invoice.currency:decimalPoint}}
                                    </div>
                                    <div style="float: left;color: #aaa;text-align: right" ng-style="vm.selectedInvoice.invoiceType.toLowerCase() == 'manual' ? {'width':'40%'} : {'width':'20%'}">
                                        {{detail.totalPrice  | isoCurrency: invoice.currency:decimalPoint}}
                                    </div>
                                </div>
                                <div style="overflow: hidden;margin-bottom: 10px;margin-top: 10px;padding-right: 10px">
                                    <div style="width: 50%;height: 10px;float: left;"></div>
                                    <div style="width: 50%;float: left;padding: 5px 0;border-bottom: solid 1px #eee">
                                        <div style="float: left;color: #aaa;width: 50%">SUBTOTAL</div>
                                        <div style="float: left;color: #aaa;width: 50%;text-align: right">{{vm.selectedInvoice.subTotal  | isoCurrency: invoice.currency:decimalPoint}}</div>
                                    </div>
                                </div>
                                <div style="overflow: hidden;margin-bottom: 10px;padding-right: 10px">
                                    <div style="width: 50%;height: 10px;float: left;"></div>
                                    <div style="width: 50%;float: left;padding: 5px 0;border-bottom: solid 1px #eee">
                                        <div style="float: left;color: #aaa;width: 50%" ng-if="vm.selectedInvoice.additionalcharge <= 0">MISCELLANEOUS CHARGES</div>
                                        <div style="float: left;color: #aaa;width: 50%" ng-if="vm.selectedInvoice.additionalcharge > 0">MISCELLANEOUS CHARGES<br/><i style="font-size: 12px">{{vm.selectedInvoice.tag}}</i></div>
                                        <div style="float: left;color: #aaa;width: 50%;text-align: right">{{vm.selectedInvoice.additionalcharge  | isoCurrency: invoice.currency:decimalPoint}}</div>
                                    </div>
                                </div>
                                <div style="overflow: hidden;margin-bottom: 10px;padding-right: 10px">
                                    <div style="width: 50%;height: 10px;float: left;"></div>
                                    <div style="width: 50%;float: left;padding: 5px 0;border-bottom: solid 1px #eee">
                                        <div style="float: left;color: #aaa;width: 50%">DISCOUNT</div>
                                        <!--<div style="float: left;color: #aaa;width: 50%;text-align: right" ng-if="vm.selectedInvoice.invoiceType.toLowerCase() != 'manual'">({{vm.selectedInvoice.discount | isoCurrency:vm.selectedInvoice.currency:decimalPoint}})</div>-->
                                        <div style="float: left;color: #aaa;width: 50%;text-align: right" >({{vm.selectedInvoice.discAmt  | isoCurrency: invoice.currency:decimalPoint}})</div>
                                    </div>
                                </div>
                                <div style="overflow: hidden;margin-bottom: 10px;padding-right: 10px" ng-if="vm.selectedInvoice.invoiceType.toLowerCase() != 'manual'">
                                    <div style="width: 50%;height: 10px;float: left;"></div>
                                    <div style="width: 50%;float: left;padding: 5px 0;border-bottom: solid 1px #eee">
                                        <div style="float: left;color: #aaa;width: 50%">TAX</div>
                                        <div style="float: left;color: #aaa;width: 50%;text-align: right">{{vm.selectedInvoice.tax  | isoCurrency: invoice.currency:decimalPoint}}</div>
                                    </div>
                                </div>
                                <div class="list-footer" style="overflow: hidden;height: 40px;margin-top: 30px;padding-right: 10px">
                                    <div style="width: 50%;height: 10px;float: left;"></div>
                                    <div style="width: 50%;float: left;padding: 5px 0">
                                        <div style="color: #aaaaaa;font-size: 16px;width: 50%;float: left;">TOTAL</div>
                                        <div style="color: #aaaaaa;text-align: right;width: 50%;float: left;">{{vm.selectedInvoice.invoiceAmount  | isoCurrency: invoice.currency:decimalPoint}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="template-footer" style="width: 100%;margin-top: 40px;padding: 10px;position:absolute;bottom: 0;">
                                <div style="margin: 5px 0;font-size: 12px">{{vm.selectedInvoice.greeting}}</div>
                                <div style="font-size: 12px;color: #aaa;padding-top: 5px;border-top: solid 1px #eee">
                                    {{vm.selectedInvoice.disclaimer}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- / INVOICE -->

                    <!-- Use the following element to add breaks to your pages -->
                    <!-- This will make sure that the section after this element will be printed on a new page -->
                    <div class="page-break"></div>
                </md-content>
              <md-content ms-scroll layout="column" class="inpage-readpane-body" id="updatePlanContent" ng-if="inpageReadPaneEdit" ng-style="{'background-color': inpageReadPaneEdit ? '#fff' : ''}" style="padding: 0;margin-bottom: 50px;">
                <form id="editPlanForm" name="vm.editPlanForm" ng-submit="submitPlan('editPlanForm')" novalidate>
                  <!--CREATE NEW INVOICE _ CARDED=================================================-->
                  <md-card flex class="input-block-gen">
                    <md-card-title>
                      <div layout="row" layout-align="start center">
                        <md-icon md-font-icon="icon-cog"></md-icon> <h3>General details</h3>
                      </div>
                    </md-card-title>
                    <md-card-content>
                      <div layout="row" layout-align="center center">
                        <md-input-container>
                          <md-radio-group name="planType" ng-required ng-model="vm.editSelectedPlan.type" layout="row" class="cc-switch-buttons-group">
                            <md-radio-button value="Base-Plan" class="cc-switch-buttons" md-ink-ripple ng-disabled="vm.editSelectedPlan.type == 'Base-Plan'" ng-style="vm.editSelectedPlan.type == 'Add-on' ? {'z-index':'1'} : {'z-index':'0'}">Base-plan</md-radio-button>
                            <md-radio-button value="Add-on" class="cc-switch-buttons" md-ink-ripple ng-disabled="vm.editSelectedPlan.type == 'Add-on'" ng-style="vm.editSelectedPlan.type == 'Base-Plan' ? {'z-index':'1'} : {'z-index':'0'}">Add-on</md-radio-button>
                          </md-radio-group>
                        </md-input-container>
                      </div>
                      <div layout="row">
                        <!--<md-input-container flex="30">-->
                        <!--<label>Plan type</label>-->
                        <!--&lt;!&ndash;<md-select flex ng-required="true" ng-model="vm.editSelectedPlan.type">&ndash;&gt;-->
                        <!--&lt;!&ndash;&lt;!&ndash;<md-option value="Services" ng-selected="true">Services Inventory Devices Packages Features</md-option>&ndash;&gt;&ndash;&gt;-->
                        <!--&lt;!&ndash;<md-option ng-repeat="type in planTypeList | filter : vm.search" ng-value="type.RecordFieldData">{{type.RecordFieldData}}</md-option>&ndash;&gt;-->
                        <!--&lt;!&ndash;</md-select>&ndash;&gt;-->
                        <!--<md-select ng-required="true" flex ng-model="vm.editSelectedPlan.type">-->
                        <!--<md-option value="Add-on">Add-on</md-option>-->
                        <!--<md-option value="Base-Plan">Base-Plan</md-option>-->
                        <!--</md-select>-->
                        <!--</md-input-container>-->
                        <!--<div flex="5"></div>-->
                        <md-input-container flex="30">
                          <label>Plan name</label>
                          <input type="text" ng-required="true" min="1" ng-maxlength="30" name="planName" ng-model="vm.editSelectedPlan.name">
                          <div ng-messages="vm.editPlanForm.planName.$error">
                            <div ng-message="maxlength">Plan name must be between 1-30 characters</div>
                          </div>
                        </md-input-container>
                        <div flex="5"></div>
                        <md-input-container flex="30">
                          <label>Plan code</label>
                          <input type="text" ng-required="true" min="1" ng-maxlength="15" name="planCode" ng-model="vm.editSelectedPlan.code">
                          <div ng-messages="vm.editPlanForm.planCode.$error">
                            <div ng-message="maxlength">Plan code must be between 1-15 characters</div>
                          </div>
                        </md-input-container>
                      </div>
                      <div layout="row">
                        <md-input-container flex>
                          <label>Description</label>
                          <input type="text" ng-required="false" min="1" ng-maxlength="300" md-maxlength="300" name="planDescription" ng-model="vm.editSelectedPlan.description">
                          <div ng-messages="vm.editPlanForm.planDescription.$error">
                            <div ng-message="maxlength">Plan description must be between 1-300 characters</div>
                          </div>
                        </md-input-container>
                      </div>

                    </md-card-content>
                  </md-card>
                  <md-card flex class="input-block-gen">
                    <md-card-title>
                      <div layout="row" layout-align="start center">
                        <md-icon md-font-icon="icon-credit-card-multiple"></md-icon> <h3>Billing details</h3>
                      </div>
                    </md-card-title>
                    <md-card-content>
                      <div class="group-sub-head mt-0"><b>Billing frequency</b></div>
                      <div layout="row" class="row-offset">
                        <div flex="5" layout="column" id="billingFrqCurrencyEdit" layout-align="center start">
                          {{0| isoCurrency: BaseCurrency:0}}
                        </div>
                        <!--<md-input-container flex="5">-->
                        <!--<label>Currency</label>-->
                        <!--<input type="text" ng-required="false" min="1" ng-maxlength="300" name="currency" ng-model="vm.editSelectedPlan.currency | isoCurrency: vm.editSelectedPlan.currency:0" ng-disabled="true">-->
                        <!--&lt;!&ndash;<md-select ng-required="true" flex ng-model="vm.editSelectedPlan.currency">&ndash;&gt;-->
                        <!--&lt;!&ndash;<md-option ng-value="BaseCurrency" selected>{{BaseCurrency}}</md-option>&ndash;&gt;-->
                        <!--&lt;!&ndash;<md-option ng-repeat="curr in prefferedCurrencies" ng-value="curr">{{curr}}</md-option>&ndash;&gt;-->
                        <!--&lt;!&ndash;</md-select>&ndash;&gt;-->
                        <!--</md-input-container>-->
                        <!--<div class="w-20"></div>-->
                        <!--&lt;!&ndash;<md-input-container flex="30">&ndash;&gt;-->
                        <!--&lt;!&ndash;<label>Unit price</label>&ndash;&gt;-->
                        <!--&lt;!&ndash;<input type="number" ng-required="true" min="1" max="100000000000000000" name="unitPrice" ng-model="vm.editSelectedPlan.unitPrice" style="text-align: right">&ndash;&gt;-->
                        <!--&lt;!&ndash;<div ng-messages="vm.editPlanForm.unitPrice.$error">&ndash;&gt;-->
                        <!--&lt;!&ndash;<div ng-message="max">Unit price must be between 1-18 digits</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;<div ng-message="min">Unit price must be between 1-18 digits</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;</md-input-container>&ndash;&gt;-->
                        <md-input-container flex="30">
                          <label>Unit price</label>
                          <input type="number" ng-required="!vm.editSelectedPlan.default_price || !vm.editSelectedPlan.add_pricingScheme" min="0" max="100000000000000000" name="unitPrice" ng-disabled="vm.editSelectedPlan.default_price && vm.editSelectedPlan.add_pricingScheme" ng-model="vm.editSelectedPlan.unitPrice" style="text-align: right">
                          <div ng-messages="vm.changePlanForm.unitPrice.$error">
                            <div ng-message="max">Unit price must be between 1-18 digits</div>
                            <div ng-message="min">Unit price must be between 1-18 digits</div>
                          </div>
                        </md-input-container>
                        <div flex="5"></div>
                        <md-input-container flex="30">
                          <label>Occurrence</label>
                          <input ng-required="true" type="number" name="frequency" min="1" max="100000000000000000" ng-model="vm.editSelectedPlan.billingInterval" style="text-align: right">
                          <div ng-messages="vm.editPlanForm.frequency.$error">
                            <div ng-message="max">Occurrence must be between 1-18 digits</div>
                            <div ng-message="min">Occurrence must be between 1-18 digits</div>
                          </div>
                        </md-input-container>
                        <div class="w-10"></div>
                        <md-input-container flex="15">
                          <md-select ng-required="true" flex ng-model="vm.editSelectedPlan.billEvery">
                            <md-option value="Months">Months</md-option>
                            <md-option value="Years">Years</md-option>
                            <md-option value="Days">Days</md-option>
                          </md-select>
                        </md-input-container>
                      </div>
                      <div layout="row">
                        <div flex="30" layout="row">
                          <md-input-container flex>
                            <label>Trial</label>
                            <input ng-required="false" type="number" name="trialDays" ng-model="vm.editSelectedPlan.trailDays" class="text-right" min="0" max="100000000000000000">
                            <div ng-messages="vm.editPlanForm.trialDays.$error">
                              <div ng-message="max">Trial days must be between 1-18 digits</div>
                              <div ng-message="min">Trial days must be between 1-18 digits</div>
                            </div>
                          </md-input-container>
                          <div layout="row" layout-align="start center">days</div>
                        </div>
                      </div>
                      <!--<div layout="column" layout-align="center center" class="p-10" style="border:solid 1px #ddd">-->
                      <!--<div ng-if="vm.editSelectedPlan.billEvery == 'Months'" layout="row" layout-align="start center">-->
                      <!--<div>(<b>{{vm.editSelectedPlan.unitPrice | isoCurrency:vm.editSelectedPlan.currency}}</b> invoice will generate once every <b>{{vm.editSelectedPlan.billingInterval}} month<span ng-if="vm.editSelectedPlan.billingInterval>1">s</span></b>)</div>-->
                      <!--</div>-->
                      <!--<div ng-if="vm.editSelectedPlan.billEvery == 'Years'" layout="row" layout-align="start center">-->
                      <!--<div>(<b>{{vm.editSelectedPlan.unitPrice | isoCurrency:vm.editSelectedPlan.currency}}</b> invoice will generate once every <b>{{vm.editSelectedPlan.billingInterval}} year<span ng-if="vm.editSelectedPlan.billingInterval>1">s</span></b>)</div>-->
                      <!--</div>-->
                      <!--<div ng-if="vm.editSelectedPlan.billEvery == 'Days'" layout="row" layout-align="start center">-->
                      <!--<div>(<b>{{vm.editSelectedPlan.unitPrice | isoCurrency:vm.editSelectedPlan.currency}}</b> invoice will generate once every <b>{{vm.editSelectedPlan.billingInterval}} day<span ng-if="vm.editSelectedPlan.billingInterval>1">s</span></b>)</div>-->
                      <!--</div>-->
                      <!--</div>-->

                      <div style="margin-top: 50px">
                        <div class="group-sub-head"><b>Billing cycles</b></div>
                        <div layout="row" layout-align="start center">
                          <md-input-container>
                            <md-radio-group ng-model="vm.editSelectedPlan.billingCycleType">
                              <md-radio-button value="auto" class="md-primary">Auto renewed until cancelled</md-radio-button>
                              <md-radio-button value="fixed" class="md-primary">Fixed number billing cycles</md-radio-button>
                            </md-radio-group>
                          </md-input-container>
                          <div flex="5"></div>
                          <div layout="row" style="margin-top: -20px" ng-if="vm.editSelectedPlan.billingCycleType=='fixed'" flex="30">
                            <md-input-container flex>
                              <label>Number of billing cycles</label>
                              <input ng-required="true" type="number" ng-min="0" name="no_of_cycles" ng-model="vm.editSelectedPlan.billingCycle" style="text-align: right">
                            </md-input-container>
                          </div>
                        </div>
                      </div>

                      <div layout="row" style="margin-bottom: 10px">
                        <div flex="30">
                          <md-input-container class="md-block">
                            <label>Payment collection method</label>
                            <!--<input type="text" ng-required="true" min="1" ng-model="row.unitUom">-->
                            <md-select ng-required="true" flex ng-model="vm.editSelectedPlan.paymentOption">
                              <md-option value="Online">Online</md-option>
                              <md-option value="Offline">Offline</md-option>
                            </md-select>
                          </md-input-container>
                        </div>
                        <div flex="5"></div>
                        <div layout="row" flex="30">
                          <div layout="column" flex>
                            <md-input-container>
                              <label>Tax</label>
                              <md-select ng-required="vm.editSelectedPlan.apply_tax" ng-model="vm.editSelectedPlan.taxID" ng-disabled="!vm.editSelectedPlan.apply_tax">
                                <md-option ng-repeat="value in taxGroup" value="{{value.taxgroupid}}">
                                  {{value.taxgroupcode}}
                                </md-option>
                              </md-select>
                            </md-input-container>
                            <md-checkbox ng-model="vm.editSelectedPlan.apply_tax" aria-label="Apply Tax" class="md-primary dep-checkbox" style="top:0;width: 100px;">Apply Tax</md-checkbox>
                          </div>
                        </div>
                        <!--<div flex="5"></div>-->
                        <!--<div flex="30" layout="row">-->
                        <!--<md-input-container flex>-->
                        <!--<label>Trial</label>-->
                        <!--<input ng-required="false" type="number" name="note" ng-model="vm.editSelectedPlan.trailDays" style="text-align: right">-->
                        <!--</md-input-container>-->
                        <!--<div layout="row" layout-align="start center">days</div>-->
                        <!--</div>-->
                      </div>
                    </md-card-content>
                  </md-card>
                  <md-card flex class="input-block-gen" ng-if="vm.editSelectedPlan.type=='Add-on'">
                    <md-card-title>
                      <div layout="row" layout-align="start center">
                        <i class="material-icons">extension</i> <h3>Add-on configuration</h3>
                      </div>
                    </md-card-title>
                    <md-card-content layout="column">
                      <div class="group-sub-head mt-0"><b>Current add-ons</b></div>
                      <div class="b b-dark" style="overflow: hidden;">
                        <div md-whiteframe="1dp" class="pos-rel" style="z-index: 1;">
                          <div class="search" flex layout-align="start center">
                            <div layout="row" class="p-10">
                              <md-icon md-font-icon="icon-magnify" class="icon s20 mr-15"></md-icon>
                              <input flex ng-model="vm.searchBasePlansEdit" type="text" placeholder="Search for base plans">
                            </div>
                            <md-divider></md-divider>
                          </div>
                          <div class="p-10 light-gray">
                            <md-checkbox ng-model="vm.editSelectedPlan.allBasePlansSelected" aria-label="Event" class="md-primary m-0">Select all base plans</md-checkbox>
                          </div>
                        </div>
                        <div class="msg-empty-list" ng-if="basePlanList.length == 0">
                                        <span>
                                            <md-icon md-font-icon="icon-information-outline"></md-icon> No add-on is created yet
                                        </span>
                        </div>
                        <div ng-if="!vm.editSelectedPlan.allBasePlansSelected" class="subheaded-list-content" flex>
                          <md-content ms-scroll>
                            <!--<md-progress-circular md-mode='indeterminate' md-diameter="150" class="progress-circle-loader" ng-show="loading"></md-progress-circular>-->

                            <!--<div id="draggblePlan" class="not-shared-user" draggable-data="s" draggable="true" effect-allowed="copy" draggable-type="custom-object" ng-repeat="s in basePlanList">-->
                            <!--<div layout="row" layout-align="space-between center">-->
                            <!--<div layout="row" layout-align="start center">-->
                            <!--&lt;!&ndash;<md-icon md-font-icon="icon-account"></md-icon>&ndash;&gt;-->
                            <!--<img ng-src="{{getCatLetter(s.name)}}" class="md-avatar"/>-->
                            <!--<p>{{s.name}}</p>-->
                            <!--</div>-->
                            <!--<div>-->
                            <!--<md-icon md-font-icon="icon-cursor-move"></md-icon>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--</div>-->
                            <div class="p-10" layout="row" ng-repeat="s in basePlanList | filter : vm.searchBasePlansEdit | filter : vm.editSelectedPlan.billEvery" ng-click="null">
                                            <span flex>
                                              <md-checkbox ng-model="s.isSelected" aria-label="Event" class="m-0 md-primary">{{s.name}}</md-checkbox>
                                            </span>
                            </div>
                          </md-content>
                        </div>
                      </div>
                    </md-card-content>
                    <!--<md-card-content layout="row">-->
                    <!--<md-card flex class="input-block-gen" layout="column">-->
                    <!--<div flex class="inpage-listpane">-->
                    <!--<md-card-title>-->
                    <!--<div layout="row" layout-align="start center">-->
                    <!--<md-icon md-font-icon="icon-account-multiple"></md-icon> <h3>Base Plan List</h3>-->
                    <!--</div>-->
                    <!--</md-card-title>-->
                    <!--<div>-->
                    <!---->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</md-card>-->

                    <!--<div flex layout="column" layout-align="start center" style="padding-right: 20px">-->
                    <!--<div layout="column" layout-align="center center" class="shared-app">-->
                    <!--<div layout="row" layout-align="center center">-->
                    <!--<h3>Selected Base Plans</h3>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<div drop="onDropOne($data, $event)" drop-effect="copy" drop-accept="'json/custom-object'" drag-over="onDragOver($event)" drag-over-class="drag-over-accept" flex class="drag-n-drop-area">-->
                    <!--<div ng-show="selectedBasePlans.length<1" class="watermark" layout="column" layout-align="center center">-->
                    <!--<md-icon md-font-icon="icon-account-multiple"></md-icon>-->
                    <!--<span>Drop BasePlan Here</span>-->
                    <!--</div>-->
                    <!--<md-card class="shared-user" ng-repeat="plan in selectedBasePlans">-->
                    <!--<div layout="row" layout-align="space-between center">-->
                    <!--<md-icon md-font-icon="icon-account"></md-icon>-->
                    <!--<p>{{plan.code}}</p>-->
                    <!--<md-button class="md-icon-button" ng-click="deleteSelectedBasePlan($event,plan)" aria-label="delete">-->
                    <!--<md-icon md-font-icon="icon-close-circle md-warn"></md-icon>-->
                    <!--</md-button>-->
                    <!--</div>-->
                    <!--</md-card>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</md-card-content>-->

                  </md-card>
                  <md-card flex class="input-block-gen">
                    <md-card-content style="padding: 0">
                      <div flex>
                        <md-checkbox ng-change="updateScroll('edit')" layout="row" ng-model="vm.editSelectedPlan.add_pricingScheme" aria-label="Pricing Scheme" class="m-0 md-accent dep-checkbox chkbox-btn"> <h3 class="m-0">Add features</h3></md-checkbox>
                      </div>
                      <!--<md-icon ng-class="content.add_pricingScheme ? 'icon-chevron-up' : 'icon-chevron-down'"></md-icon>-->
                    </md-card-content>
                  </md-card>
                  <md-card flex class="input-block-gen" ng-show="vm.editSelectedPlan.add_pricingScheme">
                    <md-card-title>
                      <div layout="row" layout-align="space-between center" flex>
                        <div layout="row"><i class="material-icons">stars</i> <h3>Features</h3></div>
                        <md-button class="md-raised add-item-main" layout="row" layout-align="start center" ng-click="openFeatureDialog('Add', '')"><md-icon md-font-icon="icon-plus"></md-icon> ADD</md-button>
                      </div>
                    </md-card-title>
                    <div layout="row" layout-align="center center" class="pos-rel">
                      <div class="msg-inform-iconed">
                        <span><md-icon md-font-icon="icon-information-outline"></md-icon> Select features for the plan</span>
                      </div>
                    </div>
                    <div class="list-header" layout="row">
                      <div flex layout-align="center start">Feature name</div>
                      <div flex="10" layout="row" layout-align="end center">Actions</div>
                    </div>
                    <md-card-content style="padding: 0">
                      <div class="preloader" ng-hide="true">
                        <md-progress-circular></md-progress-circular>
                      </div>
                      <div layout="row" layout-align="center center" class="msg-empty-list" ng-hide="true">
                        <span><md-icon md-font-icon="icon-information-outline"></md-icon> No feature has been added yet</span>
                      </div>
                      <div class="mb-30">
                        <div class="action-row" layout="row" ng-repeat="item in priceSchemeFeatureList" layout-align="start center">
                                            <span flex layout="row" layout-align="start center">
                                                <span>
                                                    <md-checkbox ng-model="item.isSelected" class="m-0 mr-20 md-primary">{{item[0].feature}} ({{item[0].featureCode}})</md-checkbox><md-button class="md-icon-button op-5"><md-icon md-font-icon="icon-information" class="fs-16"></md-icon></md-button>
                                                </span>
                                            </span>
                                        <span flex="10" style="max-width: 150px" layout="row" layout-align="end center">
                                                <md-button class="md-icon-button" aria-label="Edit" ng-click="openFeatureDialog('Update', item)">
                                                  <md-icon md-font-icon="icon-pencil"></md-icon>
                                                  <md-tooltip>Edit</md-tooltip>
                                                </md-button>
                                                  <md-button class="md-icon-button md-warn action-row-remove" aria-label="Delete" ng-click="showDeleteFeatureConfirm($event,item)" show-gt-sm>
                                                    <md-icon md-font-icon="icon-close-circle"></md-icon>
                                                    <md-tooltip>Delete</md-tooltip>
                                                  </md-button>
                                            </span>
                        </div>
                      </div>
                    </md-card-content>
                  </md-card>
                  <!--Pricing scheme block-->
                  <!--<md-card flex class="input-block-gen">-->
                  <!--<md-card-title>-->
                  <!--<div layout="row" layout-align="space-between center" flex>-->
                  <!--&lt;!&ndash;<md-checkbox ng-model="content.add_pricingScheme" aria-label="Pricing Scheme" class="md-primary dep-checkbox" style="top:10px;"></md-checkbox>&ndash;&gt;-->
                  <!--<div layout="row" flex>-->
                  <!--<md-checkbox layout="row" flex ng-model="vm.editSelectedPlan.add_pricingScheme" ng-change="calcUnitPrice(features,vm.editSelectedPlan.unitPrice,vm.editSelectedPlan.default_price,vm.editSelectedPlan.add_pricingScheme,'add')" aria-label="Pricing Scheme" class="m-0 md-accent dep-checkbox"> <h3>Add pricing scheme</h3></md-checkbox>-->
                  <!--</div>-->
                  <!--<md-icon ng-class="vm.editSelectedPlan.add_pricingScheme ? 'icon-chevron-up' : 'icon-chevron-down'"></md-icon>-->
                  <!--</div>-->
                  <!--</md-card-title>-->
                  <!--<md-card-content ng-if="vm.editSelectedPlan.add_pricingScheme==true">-->
                  <!--<div class="group-sub-head mt-0"><b>Features</b></div>-->

                  <!--<div>-->
                  <!--<div ng-repeat="row in vm.editSelectedPlan.priceScheme" class="highlight-blue solid h-auto" layout="row" layout-align="start center">-->
                  <!--<div layout="column" flex class="v-rule-blue">-->
                  <!--<div layout="row" class="h-80">-->
                  <!--<div flex="30">-->
                  <!--<md-input-container class="md-block" id="invProdQty">-->
                  <!--<label>Feature</label>-->
                  <!--<input type="text" ng-required="true" min="1" ng-model="row.feature">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div flex="30">-->
                  <!--<md-input-container class="md-block" id="invProdQty8">-->
                  <!--<label>Feature Code</label>-->
                  <!--<input type="text" ng-required="true" min="1" ng-model="row.featureCode">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div flex="20" layout="row" layout-align="start center">-->
                  <!--<md-button layout="row" layout-align="start center" ng-if="!row.showAdvanceFeatures" ng-click="setAdvanceFeatures(row);" class="md-accent fs-14">-->
                  <!--<md-icon md-font-icon="icon-plus-circle" class="md-primary fs-18 mr-5" ng-class=""></md-icon>-->
                  <!--Add rating-->
                  <!--</md-button>-->
                  <!--</div>-->
                  <!--<div id="stop-subscription" layout="column" ng-if="row.showAdvanceFeatures" ng-hide="row.advancedFeaturesConfirmed" class="w-480 animate-slide-down" md-whiteframe="4dp" style="top: -60px;">-->
                  <!--<div class="header-bar text-right" layout="row" layout-align="space-between center">-->
                  <!--<h3>Rating</h3>-->
                  <!--<md-button class="md-icon-button" ng-click="closeAdvanceFeatures(row)"><md-icon md-font-icon="icon-close"></md-icon> </md-button>-->
                  <!--</div>-->
                  <!--<div class="p-20">-->
                  <!--<div>-->
                  <!--<div layout="row" layout-align="space-between center">-->
                  <!--<div layout="column" layout-align="start start">-->
                  <!--<div layout="row" layout-align="start center" class="title">-->
                  <!--<md-icon md-font-icon="icon-book"></md-icon> <span flex>Fixed</span>-->
                  <!--</div>-->
                  <!--<div class="mt-10">Fixed rating will be added</div>-->
                  <!--</div>-->
                  <!--<md-button class="md-accent md-raised" ng-click="setFeature(row, 'FIXED')">Choose this</md-button>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<md-divider class="mv-20"></md-divider>-->
                  <!--<div>-->
                  <!--<div layout="row" layout-align="space-between center">-->
                  <!--<div layout="column" layout-align="start start">-->
                  <!--<div layout="row" layout-align="start center" class="title">-->
                  <!--<md-icon md-font-icon="icon-book-multiple"></md-icon> <span flex>Slab</span>-->
                  <!--</div>-->
                  <!--<div class="mt-10">Slab ratings will be added</div>-->
                  <!--</div>-->
                  <!--<md-button class="md-accent md-raised" ng-click="setFeature(row, 'SLAB')">Choose this</md-button>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--</div>-->

                  <!--<div ng-show="row.advancedFeaturesConfirmed">-->
                  <!--<div layout="row" layout-align="space-between center">-->
                  <!--<md-input-container id="invProdQty6" flex="30">-->
                  <!--<label>Type</label>-->
                  <!--&lt;!&ndash;<input type="text" ng-required="true" min="1" ng-model="row.unitUom">&ndash;&gt;-->
                  <!--<md-select ng-required="true" flex ng-model="row.type">-->
                  <!--<md-option value="optional" ng-hide="true">optional</md-option>-->
                  <!--<md-option value="FIXED">FIXED</md-option>-->
                  <!--<md-option value="SLAB">SLAB</md-option>-->
                  <!--</md-select>-->
                  <!--</md-input-container>-->
                  <!--<md-button layout="row" layout-align="start center" ng-if="row.showAdvanceFeatures" ng-click="closeAdvanceFeatures(row);" class="md-primary fs-12"> <md-icon md-font-icon="icon-close" class="md-primary fs-16" ng-class=""></md-icon> Close rating</md-button>-->
                  <!--</div>-->
                  <!--<div layout="row" class="highlight-white solid p-5" ng-if="row.type=='FIXED'" >-->
                  <!--<div layout-md="column" layout-align-md="start center" flex="30">-->
                  <!--<div flex>-->
                  <!--<md-input-container class="md-block" id="invProdQty2">-->
                  <!--<label>Unit Quantity</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-model="row.unitsTo">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--<div flex>-->
                  <!--<md-input-container class="md-block" id="invProdQty3">-->
                  <!--<label>Unit Uom</label>-->
                  <!--&lt;!&ndash;<input type="text" ng-required="true" min="1" ng-model="row.unitUom">&ndash;&gt;-->
                  <!--<md-select ng-required="true" flex ng-model="row.unitUom">-->
                  <!--<md-option value="Units">Units</md-option>-->
                  <!--<md-option value="GB">GB</md-option>-->
                  <!--</md-select>-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div layout-md="column" layout-align-md="start center" flex="30">-->
                  <!--<div flex>-->
                  <!--<md-input-container class="md-block" id="invProdQty4">-->
                  <!--<label>Unit Price</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-change="calcUnitPrice(vm.editSelectedPlan.priceScheme,vm.editSelectedPlan.unitPrice,vm.editSelectedPlan.default_price,vm.editSelectedPlan.add_pricingScheme,'update')" ng-model="row.price">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--<div flex>-->
                  <!--<md-input-container class="md-block" id="invProdQty5">-->
                  <!--<label>UOM</label>-->
                  <!--&lt;!&ndash;<input type="text" ng-required="true" min="1" ng-model="row.unitUom">&ndash;&gt;-->
                  <!--<md-select ng-required="true" flex ng-model="row.uom">-->
                  <!--<md-option value="OneTime">One time</md-option>-->
                  <!--<md-option value="Months" ng-disabled="vm.editSelectedPlan.billEvery=='Days'">Months</md-option>-->
                  <!--<md-option value="Years" ng-disabled="vm.editSelectedPlan.billEvery!='Years'">Years</md-option>-->
                  <!--<md-option value="Days">Days</md-option>-->
                  <!--</md-select>-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div flex layout="column" layout-align="center start">-->
                  <!--<md-input-container fill-width class="mt-40" id="invProdQty7" ng-if="row.autoTermination==false">-->
                  <!--<label>Additional charge per unit</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-model="row.costPerUnitAdd">-->
                  <!--</md-input-container>-->
                  <!--<md-checkbox ng-model="row.autoTermination" aria-label="Auto Terminate" class="md-primary dep-checkbox" ng-class="{'offset-top':!row.autoTermination}">Auto Terminate</md-checkbox>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div layout="column" ng-if="row.type=='SLAB'">-->
                  <!--<div layout="row" class="highlight-white solid p-5 mb-10" ng-repeat="slab in row.scheme">-->
                  <!--<div layout-md="column" layout-align-md="start center" flex="30">-->
                  <!--<div flex>-->
                  <!--<md-input-container flex class="md-block mb-0" id="invProdQty2">-->
                  <!--<label>Starting Quantity</label>-->
                  <!--<input type="number" ng-required="true" min="0" ng-model="slab.unitsFrom">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--<div flex>-->
                  <!--<md-input-container flex class="md-block mb-0" id="invProdQty2">-->
                  <!--<label>Ending Quantity</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-model="slab.unitsTo">-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div layout-md="column" layout-align-md="start center" flex="30">-->
                  <!--<md-input-container class="md-block mb-0" id="invProdQty4" flex>-->
                  <!--<label>Unit Price</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-change="calcUnitPrice(vm.editSelectedPlan.priceScheme,vm.editSelectedPlan.unitPrice,vm.editSelectedPlan.default_price,vm.editSelectedPlan.add_pricingScheme,'update')" ng-model="slab.price">-->
                  <!--</md-input-container>-->
                  <!--<div layout="row" layout-align="start center" flex>-->
                  <!--<md-input-container flex class="mb-0" id="invProdQty5">-->
                  <!--<label>UOM</label>-->
                  <!--&lt;!&ndash;<input type="text" ng-required="true" min="1" ng-model="row.unitUom">&ndash;&gt;-->
                  <!--<md-select ng-required="true" flex ng-model="slab.uom">-->
                  <!--<md-option value="OneTime">One time</md-option>-->
                  <!--<md-option value="Months" ng-disabled="vm.editSelectedPlan.billEvery=='Daily'">Months</md-option>-->
                  <!--<md-option value="Years" ng-disabled="vm.editSelectedPlan.billEvery!='Yearly'">Years</md-option>-->
                  <!--<md-option value="Days">Days</md-option>-->
                  <!--</md-select>-->
                  <!--</md-input-container>-->
                  <!--<div class="w-10"></div>-->
                  <!--<md-input-container class="mb-0" id="invProdQty3">-->
                  <!--<label>Unit Uom</label>-->
                  <!--&lt;!&ndash;<input type="text" ng-required="true" min="1" ng-model="row.unitUom">&ndash;&gt;-->
                  <!--<md-select ng-required="true" flex ng-model="slab.unitUom">-->
                  <!--<md-option value="Units">Units</md-option>-->
                  <!--<md-option value="GB">GB</md-option>-->
                  <!--</md-select>-->
                  <!--</md-input-container>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div flex="5"></div>-->
                  <!--<div flex layout="column" layout-align="center start">-->
                  <!--<md-input-container class="mt-40" id="invProdQty7" ng-if="slab.autoTermination==false">-->
                  <!--<label>Additional Charge per Unit</label>-->
                  <!--<input type="number" ng-required="true" min="1" ng-model="slab.costPerUnitAdd">-->
                  <!--</md-input-container>-->
                  <!--<md-checkbox ng-model="slab.autoTermination" aria-label="Auto Terminate" class="md-primary dep-checkbox" ng-class="{'offset-top':!slab.autoTermination}">Auto Terminate</md-checkbox>-->
                  <!--</div>-->
                  <!--<div layout="column" layout-align="center center" class="v-rule-gray">-->
                  <!--<md-button ng-click="removerow($index,row.scheme,$parent.$index);" class="md-icon-button md-warn"><md-icon md-font-icon="icon-close-circle"></md-icon><md-tooltip>Remove slab</md-tooltip> </md-button>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--<div layout="row" layout-align="end center">-->
                  <!--<md-button ng-click="addNewSlab(row);" class="md-accent md-icon-button mr-10"><md-icon md-font-icon="icon-plus-circle"></md-icon><md-tooltip>Add slab</md-tooltip></md-button>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--</div>-->
                  <!--</div>-->

                  <!--<div layout="row" layout-align="end center">-->
                  <!--<md-button style="height: 50px;width:50px" ng-click="removerow($index,vm.editSelectedPlan.priceScheme,$index);" class="md-icon-button md-warn"><md-icon style="font-size: 35px;" md-font-icon="icon-close-circle"></md-icon><md-tooltip>Remove feature</md-tooltip> </md-button>-->
                  <!--</div>-->

                  <!--</div>-->
                  <!--</div>-->
                  <!--<div layout="row" layout-align="end center" class="h-60">-->
                  <!--<md-button ng-click="addNewRow(vm.editSelectedPlan.priceScheme);" class="md-accent md-icon-button mr-20 h-45 w-45"><md-icon md-font-icon="icon-plus-circle" class="fs-34 w-35 h-35"></md-icon><md-tooltip>Add feature</md-tooltip> </md-button>-->
                  <!--</div>-->
                  <!--</md-card-content>-->
                  <!--</md-card>-->
                  <!--Pricing scheme block-->

                  <!--CREATE NEW INVOICE _ CARDED=================================================-->
                </form>
              </md-content>
            </div>
            <!-- / INPAGE READ PANE-->
        </div>
    </div>

    <!-- / CENTER -->

    <!-- CENTER -->
    <!--<div ng-switch-when="add" class="center" layout="column" flex>-->

    <!--&lt;!&ndash; CONTENT CARD &ndash;&gt;-->
    <!--<div class="content-card" layout="column" flex>-->

    <!--&lt;!&ndash; INVOICE VIEW PANE TOOLBAR &ndash;&gt;-->
    <!--<div class="toolbar" layout="row" layout-align="space-between center" ng-if="vm.activeInvoicePaneIndex === 1">-->
    <!--<md-button class="md-icon-button"-->
    <!--ng-click="vm.closeReadPane()"-->
    <!--aria-label="Back">-->
    <!--<md-icon md-font-icon="icon-keyboard-backspace"></md-icon>-->
    <!--</md-button>-->
    <!--</div>-->
    <!--&lt;!&ndash; / INVOICE VIEW PANE TOOLBAR &ndash;&gt;-->
    <!--</div>-->

    <!--&lt;!&ndash; / CONTENT CARD &ndash;&gt;-->

    <!--</div>-->
    <!-- / CENTER -->

</div>


